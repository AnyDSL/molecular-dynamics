fn integrate(vector: ParticleVector, start: [size_t * 3], end: [size_t * 3], dt: real, f: fn(Cell, real) -> ()) -> () {
    //for ic, cell in parallel_map_particle_vector(start, end, vector) {
    for ic, cell in map_particle_vector(start, end, vector) {
        f(cell, dt);

        print_string("Outer iteration: ");
        print_i64(ic(0) as i64);
        print_string("\t End: "); 
        print_i64(end(0) as i64);
        print_string("\n"); 
    }
}
